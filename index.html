<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vape Imperial Payment Test</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <form action="process.php" method="post">
        <!--product bill_amt,bill_currency and product name * by cart total amount -->

        <div class="row">
            <!--This is the unique reference, unique to the particular transaction being carried out. It is generated by the merchant for every transaction -->
            <label for="reference">Reference:</label>
            <input type="text" id="reference" name="reference" value="" readonly="readonly" />
        </div>

        <div class="row">
            <!--This is the amount to be charged from card -->
            <label for="bill_amt">Amount:</label>
            <input type='number' id="bill_amt" name='bill_amt' value='10.00' readonly="readonly" />
            <input type='text' name='bill_currency' value='USD' readonly="readonly" />
        </div>


        <div class="row">
            <!--This is the specified Product Name to purchased. -->
            <label for="product_name">Product:</label>
            <input type='text' name='product_name' value='TEST - Test Product' readonly="readonly" />
        </div>

        <!--billing details of .* customer -->

        <div class="row">
            <!--This is the fullname of the full name or the customer -->
            <label for="fullname">Name:</label>
            <input type="text" id="fullname" name="fullname" value='John Doe' required />
        </div>

        <div class="row">
            <!--This is the bill_email address of the customer. -->
            <label for="bill_email">Email:</label>
            <input type="email" id="bill_email" name="bill_email" value='test@example.com' required />
        </div>

        <div class="row">
            <!--This is the first address of the customer. -->
            <label for="bill_address">Address:</label>
            <input type="text" id="bill_address" name="bill_address" value='testing address' required />
        </div>

        <div class="row">
            <div class="col">
                <!--This is the city of the customer. -->
                <label for="bill_city">City:</label>
                <input type="text" id="bill_city" name="bill_city" value='Tallinn' required />
            </div>

            <div class="col">
                <!--This is the state of the customer. -->
                <label for="bill_state">State:</label>
                <input type="text" id="bill_state" name="bill_state" value='HA' required />
            </div>
        </div>

        <div class="row">
            <div class="col">
                <!--This is the country of the customer for ISO Alpha-2. -->
                <label for="bill_country">Country:</label>
                <input type="text" id="bill_country" name="bill_country" value='EE' required />
            </div>

            <div class="col">
                <!--This is the zip code of the customer. -->
                <label for="bill_zip">Zip Code:</label>
                <input type="text" id="bill_zip" name="bill_zip" pattern="[0-9]{5}" value='12618' required />
            </div>
        </div>

        <div class="row">
            <!--This is the phone number of the customer. -->
            <label for="bill_phone">Phone Number:</label>
            <input type="tel" id="bill_phone" name="bill_phone" value='1234567' required />
        </div>

        <!--credit card details-->

        <div class="row">
            <!--This is the credit card number of the customer. -->
            <label for="card_number">Card Number:</label>
            <input type="text" id="card_number" name="card_number" pattern="[0-9]{16}" maxlength="16" minlength="16"
                required placeholder="Enter a valid card number" value="5555555555554444" />
        </div>

        <div class="row">
            <div class="col">
                <!--This is the expiration month of the credit card. -->
                <label for="card_expiry_month">Expiration Month:</label>
                <input type="text" id="card_expiry_month" minlength="2" maxlength="2" name="card_expiry_month"
                    pattern="(0[1-9]|1[0-2])" required placeholder="MM" value="01" />
            </div>

            <div class="col">
                <!--This is the expiration year of the credit card. -->
                <label for="card_expiry_year">Expiration Year:</label>
                <input type="text" id="card_expiry_year" minlength="2" maxlength="2" name="card_expiry_year"
                    pattern="[0-9]{2}" required placeholder="YY" value="25" />
            </div>

            <div class="col">
                <!--This is the CVV (Card Verification Value) of the credit card. -->
                <label for="card_cvv">CVV:</label>
                <input type="text" id="card_cvv" name="card_cvv" pattern="[0-9]{3,4}" maxlength="4" minlength="3"
                    required placeholder="Enter CVV" value="166" />
            </div>
        </div>

        <!--webhook_url is a url you provide, we send by s2s method to it after the customer process for completes payment and append by curl the response to it as query parameters ex. https://yourdomain.com/notify.php -->
        <input type="hidden" name="webhook_url" value="http://localhost/notify.php" />

        <!--return_url is a url you provide, we redirect to it after the customer completes payment and redirect this url with response to it as query parameters ex. https://yourdomain.com/success.php -->
        <input type="hidden" name="return_url" value="http://localhost/success.php" />

        <button class="paynow_link" id="paymentsubmit" type="submit">PAY NOW</button>
    </form>
</body>

<script defer>
    const getRandomArbitrary = ( min, max ) => ( Math.random() * ( max - min ) + min ).toFixed( 2 );

    const refInput = document.getElementById( "reference" );
    const amountInput = document.getElementById( "bill_amt" );

    if ( refInput ) {
        refInput.value = crypto.randomUUID();
    }

    if ( amountInput ) {
        amountInput.value = getRandomArbitrary( 1.0, 200.0 );
    }
</script>
</html>